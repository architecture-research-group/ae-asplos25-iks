
# README for Testing the Verilog Testbench

## Overview
This guide explains how to test the provided Verilog testbench, which is designed for validating the dot product computation. A Python script located in the `utils` folder can generate test data with different vector sizes and dimensions. The generated file `dotprod_bin_68_mac_fp16_g.txt` must have the correct number of lines as specified in the `PATTERN_NUM` macro in the testbench.

## Folder Structure
```
project_root/
|-- src/
|   |-- testbench.v
|-- utils/
|   |-- generate_test_data.py
|   |-- dotprod_bin_68_mac_fp16_g.txt (generated)
|-- project_name.sim/
|   |-- sim_1/
|   |   |-- behav/
|   |       |-- xsim/
```

## Prerequisites
- **Vivado Design Suite** (for running the simulation)
- **Python 3.x** (for running the test data generation script)

## Steps to Test the Testbench

### 1. Generate Test Data
Navigate to the `utils` folder and run the Python script to generate the `dotprod_bin_68_mac_fp16_g.txt` file:
```bash
cd utils
python generate_test_data.py
```

- Ensure that the number of lines generated matches the `PATTERN_NUM` defined in the testbench. If needed, modify the Python script or the `PATTERN_NUM` macro to align.

### 2. Verify the Number of Lines
Confirm that the number of lines in `dotprod_bin_68_mac_fp16_g.txt` matches the value of `PATTERN_NUM` in your testbench:
```verilog
`define PATTERN_NUM 1545  // Ensure this matches the generated file line count
```

### 3. Run the Simulation
Navigate to your project root directory and launch the Vivado simulator:
```bash
cd project_root
vivado -mode batch -source run_sim.tcl
```

- Ensure that `run_sim.tcl` includes commands to set up and run your testbench properly.

### 4. Check the Output
Review the output generated by the simulation to confirm that it runs correctly with the generated test data. The testbench may print diagnostic messages or write outputs to files.

### 5. Debugging
If there are issues:
- Verify the file path in the testbench:
```verilog
`define PATTERN "../../../../utils/dotprod_bin_68_mac_fp16_g.txt"
```
- Ensure the working directory in Vivado is set to the correct path (`project_root`).

## Additional Notes
- You may need to adjust file permissions or paths depending on your environment.
- Make sure your Python script writes to `dotprod_bin_68_mac_fp16_g.txt` in the `utils` folder.

## Contact
For further questions or troubleshooting, please contact the project maintainer.
